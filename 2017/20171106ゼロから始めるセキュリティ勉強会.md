# ゼロから始めるセキュリティ勉強会

## 概要
* 日時: 2017/11/06
* 場所: Weeyble


## session

-----
### ゼロから始めるセキュリティ勉強会 #11
* Speeker: ytakahashi1228(高橋)

#### hackerの凡ミス
##### 凡ミス1
* アノニマスの霞ヶ関と霞ヶ浦を間違える

##### 凡ミス2
* 0Chiaki氏
* Twitter乗っ取り、ランサムウェア、クレジットカード窃盗
* タダ乗り無線LAN・秘匿通信・匿名プロクシ
* 掲示板に犯行予告
* 前科から身元特定

##### 凡ミス3
* 9億円送金タイポ
* どこかの国の中央銀行に侵入
* 送金先タイポで仲介のドイツ銀行の調査が入る

##### まとめ
* ハッカーも人間なので凡ミスする


-----
### 勝手に採掘 -CoinHiveについて調べてみた-
* Speeker: kmrr(田口)

#### CoinHive
##### とは？
* 広告の代替として仮想通貨を採掘
* Moneo
* ユーザーに無断で勝手に採掘
  - 最近はブラウザ側で警告だしてくれる
* 最近はネイティブアプリで発生(トレンドマイクロ報告)
* 防止Addonあり


-----
### 「情報処理安全確保支援士」を受験してきた　午前I丸暗記編
* Speeker: hory(堀内)

#### 情報処理安全確保支援士
##### 情報処理安全確保支援士(SC)とは
* 元情報セキュリティスペシャリスト
* 合格率14.9%
* 正答率6割
* 士業になれる

##### 午前I
* アルゴリズム
* 基礎理論

##### 攻略サイト
* 応用情報の過去3年分を丸暗記せよ

##### 結果
* 実力と勘と暗記(4問)で6割とれた(ハズ
* ボーダー数問足りないとかなら効果あり


-----
### やってみよう！インシデント分析
* Speeker: hiro(@catnap707)

#### CSIRT
##### インシデント対応分析問題
* Traffic Analysis Exercise
* お手軽(英語)
* マルウェアは本物なので注意
* WireSharkを使うと便利

##### Traffic Analysis Exercise
* シナリオを読む
* 設問を確認
* 回答する
* WireSharkを使って解析
* Snort Sricataのアラート
* download元: hybridAnalysisで特定する

##### まとめ
* 基礎が大事
* 攻撃と防御両面の視点が大事


-----
### セキュリティの考え方
* Speeker: tokoroten0813(日留川)

#### セキュリティの考え方
##### なぜ今？
* 脆弱性対応についてミクロの考え方が多い
* セキュリティに対して考え方の基本の考え方が必要

##### 資料
* IPAセキュア・プログラミング講座
* IPAセキュア・コーディングガイド
* 原理・原則を考える上でいい資料
* 管理者・マネージャーにも読んでもらいたい

##### どんな項目がある？
* 設計原則
* 実装原則
* 脅威モデリング
* 開発プロセス
* 計画すべきセキュリティ昨日

##### 設計原則
* フェイルセーフなデフォルト
  - 何かあった際は必ず安全側に処理するよう設計する
- 権限の分離
  - 最小の権限にするのがベスト
  - 適切な権限設定と検証を行う

##### 実装原則
* 入力値の検証
  - Validate処理を必ず行ってから処理を行う
- データの無害化
  - 記号は実態参照で無害化
- 拒否のデフォルト
  - 一番大事
- 最小権限の原則に乗っ取る
  - 本当に必要なものだけ受け入れる
  - かもしれないデータは受け入れない
    - php.iniの設定とか
    - DBの設定とか

##### まとめ
* どういう時にどういう対応が必要かを知っておく必要がある
  - 自分たちで判断が必要
    - ベンダー任せではいざという時に必要な対応範囲がわからなくなる
- 個別の脆弱性対応の前に考慮してもらいたい


-----
### Process Hollowingの解説
* Speeker: enufranz()

#### Process Hollowing
##### とは？
* マルウェア
* 正当なプロセスを改ざんして侵入する
* ProcessInjection の一部
* 最近多い
* メモリ上での改ざん
* ディスク上での検知が困難

##### 手法
* マルウェアAが正当なプログラムBを起動する(メモリ上に展開)
* Bの内容(メモリ)の一部をくり抜き、改ざんコードを注入する
* 注入したBで処理を行う
* 全てメモリ上での処理のためディスク解析しても検知が難しい

##### 検知
* メモリダンプ解析(Volatility(OSS))
* pstreeコマンド
* ldrmodulesプラグイン
* malfindプラグイン
###### 親プロセスの不一致で検知
* 仕組み上親プロセスはマルウェア自身
* pstreeコマンド
* ParentProcessID(PPID)が通常と異なるIDで検知
###### KernelLand情報との不一致で検知
* 実は偽モジュールの注入だけでは不十分
* KLにあるモジュール情報(VAD)はプロセスからはアクセス困難なので注入が難しい
* KLと読み込んでいる情報のモジュール情報で不一致が発生する
* VAD:VirtualAddressDescription (仮想メモリ)
* ldrmodulesプラグイン (VADを元にモジュールを列挙)
* [MappedPath]が空欄だとメモリくり抜きされた痕跡と考えられる
###### メモリのアクセス権限で検知
* コードを注入するためR/Wのメモリ権限が必要
* ユーザーからは通常権限を[WRITE_COPY]を選択できない（ハズ）
* [READ_WRITE]が怪しい
