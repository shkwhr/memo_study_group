# ゼロから始めるセキュリティ勉強会

## 概要
* 日時: 2018/05/28
* 場所: Weeyble


## session

-----
### オンラインCTFやってみた
* Speeker: ytakahashi1228

#### CTF
##### CTFとは
* コンピューターセキュリティ技術のハッキング競技
* 現実の世界で発見されたサイバー攻撃への対処を学ぶ教育手法として企画

### ksnctf
#### crawlaling chaos
* 文字列->js->console.log->programで解析
  - FLAG

#### G00913
* πの10桁一致する初めのprime number(素数)を見つける問題

#### John
* 文字列->キーワードになりそうな文字列を探す
  - SHA512
  - SHA512 と John で検索
    - John the Ripper

#### まとめ


-----
### UbuntuMATEの初期セキュリティ調査
* Speeker: @kmrr(田口)
* 資料:

#### 構築環境
* RasPi3 modelB
* Router
* UbuntuMATE

#### UbuntuMate
* MATEを採用したフレーバー
* GNOME2環境からフォークされたデスクトップ環境

#### 初期設定状況調査
* Ubuntu16.04
  - 検索すると問題ありそう?
  - Dnsmasq は使えそう
    - 有効にする場合は気をつける必要がありそう
* 空いてるPort
  - sudo ufw status
    - firewallが有効になってなさげ
  - nmap
    - portは全部しまってる様子
* その他
  - 全てサービスが止まっててポートも塞がってる状態

#### まとめ
* 基本何もしなくてもよさそう
* Dnsmasq だけは対応する必要がありそう

-----
### ハニーポットを観察してみた
* Speeker: 市川 @one_chick_sec

#### ハニーポット
* わざと攻撃者に侵入させ、行動を監視・分析するシステム
* 低対話型と高対話型(実環境)がある

#### WoW Honeypot
* 低対話型
* 簡単に構築可能
* ルールベースのマッチ&レスポンス機能
* Python3

#### 構築環境
* QRadar(SIEM製品 ログ収集)
* さくらVPS

#### 結果
* 1日平均200アクセス
* tomcat管理マネージャー認証行為へのアクセスがあった
* ルーターD-Linkの脆弱性を狙ったもの
* Command.phpファイル検索
* manager/htmlへのアクセス

#### 調査
* ApacheStruts2
  - CVE-2017-5638
  - ファイルダウンロードさせられて実行させられる
* Weblogic
  - CVE-2017-10271
  - サーバーユーザー実行権限で任意のコードを実行させられる
* Drupalgeddon2
  - CVE-2018-7600
  - リモートから任意のコードが実行可能となるDrupalの脆弱性
* D-Link社のルーターへの攻撃
  - 認証なしで遠隔からコマンド実行をする脆弱性
  - nttpdの存在有無チェックを行なっている？

#### まとめ
* ツールで回している攻撃が多い
* 任意のコマンド実行できる脆弱性は多い
* 実際の攻撃が把握できる
* ある程度リアルタイムで確認しないと攻撃の詳細が追えない


-----
### フレームワークとセキュリティ
* Speeker: 夏山(MYT Consulting)

#### セキュリティ対策幅広すぎ
* 物理的
* 人的
  - 一番怖い
* インフラ・プラットフォーム
* Webアプリケーション
  - 件数としては外部が多い

#### 現状
* インフラ・プラットフォーム
  - 各社ある程度対策フローが整備されている
  - 検査ツールも成熟してきている
* Webアプリケーション
  - あまり進歩がない
  - ソフトウェアの自動アップデート等で対策されなず放置されることが多い
  - 人材・予算不足
  - 脆弱性診断・ペネトレーションテストをリリース前に検査する
    - で止まっている
    - スキャンかけてるだけの可能性もある…
    - ブラックボックスすぎて深みにはまる
      - プログラマ全員がセキュリティ対策に対する知識があるわけでない
  - *Frameworkを使おう！*
    - ある程度の対策機能を持っている
    - メンテナンス性・セキュリティ強度
      - スクラッチより安心できる

#### Frameworkの脆弱性
* FWにも脆弱性は存在する
* 最低限の底上げとして使用する
* 報告がされるのでスクラッチより脆弱性状況がわかる

#### なぜFW脆弱性が放置されるのか
* 動作不具合を危惧してアップデートしない
* 内容によってはコンパイルや改修等コストがかかる
* 診断でもなかなか検出されないものも多数ある
* *FWを管理ソフトウェアとして管理していない…*

#### FW脆弱性が報告されたら
* サイトチェック
  - JPCERT
  - IPA

#### 確認事項
* 今管理しているアプリケーションの脆弱性の確認
  - 資産の重要性により対応を考える
  - 脆弱性は洗い出されているか
  - FWの状態
* チェックできる体制を整備することが大事
  - CVSSとか駆使していち早く把握する仕組み作り

#### まとめ
* そのうちAIがやってくれるからそれまで頑張ろう

-----
### logの保存について考えてみた (PCI DSSも)
* Speeker: tokoroten(日留川)

#### PCI DSS
* クレカデータを安全に取り扱うことを目的として策定された、セキュリティ基準
* 資格を持った会社でのみ審査が可能
* 審査料:年間1000万〜

#### 加盟店
* ECサイトの運用側
* 漏洩の多くは加盟店から発生している
  - PCI DSSへの準拠が必須でない
    - カード情報非保持
    - 年間処理件数
    - 等
    - 決済代行会社が処理の肩代わり
* 漏洩原因
  - Heartbleed
  - サーバー侵入されコンテンツ改ざん
  - 知らないけどDBに…

#### ログ気にしてます？
* 攻撃の挙動を把握できる可能性が高い
  - サーバー侵入
  - SQLインジェクション
  - 異常な数のログが出力される
* PCI DSSには細かく規定されている

#### CPP(CPP加盟店)
* カードデータの流出元となる加盟店
* 不正結果で判明するためタイムリーではない
* 過去であるとログが残ってない場合がある
  - 件数等の証拠がないため加盟店の責任がもっとも高くなる場合がある

#### どうすればいい？
* 全てPCI DSS に準拠させる
  - 時間とお金がかかる…
  - 中小・個人は市場に参入できなくなる
* ログは少なくとも1年程度保持する
  - ルールとして運用する
* ログのパーミッション
* Apacheのリファラー出力
*

-----
###
* Speeker:

####
#####
* a
