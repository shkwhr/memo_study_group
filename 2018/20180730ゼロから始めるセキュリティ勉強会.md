# ゼロから始めるセキュリティ勉強会

## 概要
* 日時: 2018/07/30
* 場所: Weeyble


## session

-----
### ここ1ヶ月のセキュリティに関する事故を分析してみた
* Speeker: ytakahashi1228

#### 事故の除法の収集元
* Security NEXT
    - http://www.security-next.com/

#### 集計
* 6/23 ~ 7/23
* 情報漏洩を主に

#### 集計結果
* 合計52件
* USB紛失系: 6件
* 紙媒体紛失: 9
* メール誤送信: 10
* 不正アクセス: 13
* 盗難: 3
* 人為ミス: 2
* フィッシング: 2
* システム不備: 3
* 攻撃: 1

#### 分析
* 紛失・誤送信
    - 未だにインシデントの半分以上の割合
    - 自治体の割合が7割
    - 医療系・大学関係も比率は高い
    - 自治体系への暗号化製品はまだ需要がありそう…
* 不正アクセス
    - 4件は同じニュース記事の進展だったので実質9件
    - FastBookingが不正アクセスを受けた
        - BackDoor
        - クレカ情報12万580件漏洩(暗号化されていた)

#### まとめ
* うっかりミスが未だに半分を占める
* 研修などを用いて各社員のセキュリティ意識、関心を向上させる必要がありそう
* 暗号化ツールは効果ある


-----
### 気まぐれQRコード
* Speeker: @kmrr(田口)

#### QRコードとは
* 1994年デンソー開発
* 誤り訂正レベルがある
    - 最大30%訂正が可能

#### きまぐれQRコード
* 神戸大学 森井教授が発見した脆弱性
* 誤り訂正機能を悪用する
* 元の情報を埋め込む部分と、誤りがあったとき読み込む部分がある。
* 正常に読める場合と、誤り訂正を読み込むQRコードを作成する。
* マイクロQRコードを埋め込む方法もある

#### やってみた
* 誤り訂正レベルMAX
* 別のQRコードを無理やり埋め込む

#### 問題
* 通常ルート以外に悪意あるサイトに遷移させることができる
* 再現性が薄い
* 回避するには読み込んだ後のURLを確認するしかない

#### まとめ
* QRコードpayment(ALIPAYとか)で悪用できそう
* 現時点ではできるということが分かっているだけ


-----
### ローカルプロキシツール BurpSuite
* Speeker: @hoits123(千葉仁)

#### BurpSuite機能
* Scan
* Spider
    - クローラ
    - Webアプリ全体を把握することが可能
* Scanner
    - アクティブスキャンおよびパッシブスキャンによる脆弱性スキャンを行う
    - Macroを利用することでCSRF対策済み画面やログイン処理が必要な箇所も診断可能
* Intruder
    - 定型化されたパターンによる診断
    - あくまでレスポンスの結果を見る
* Repeater
    - Proxyでキャプチャしたリクエストを再送、改竄して送ることができる
* Sequencer
    - セッションの推測しやすさを診断
* Decoder
* Compare
* Extender
    - 独自の拡張をインストールできる
    - プログラムで拡張機能作成可能
* その他

#### 欠点
* Scanner頼りになりシグネチャが何を送っているのか、何を目的としているのかわかりづらい
* Scanログ出力がextender頼りで貧弱


-----
### エクスプロイトキットについて調べてみた
* Speeker: @sec_chick (Ichikawa(PSOC))

#### エクスプロイトキット
* セキュリティ上の脆弱性を攻撃するためのプログラムを指す用語
* 複数のエクスプロイトコードをパッケージ貸して、様々な脆弱性攻撃に対応できるようにしたプログラム

#### フロー
* サイト閲覧でマルウェア観戦
* 不正サイトへリダイレクト（エクスプロイトキット）
* ユーザー環境を調査し、環境に合わせて攻撃を仕掛ける

#### 2018年主要なもの
* RigEK
    - シェアTOP
* MagnitudeEK
* GrandSoftEK

#### 調査したトラフィックソース
* トラフィックの情報を提供しているtrafic.moeで記載されているトラフィック分析
* Fiddlerで閲覧
* Unknown->RigEK->SmokeLoader->ZeusPanda(バンキングマルウェア)

#### 流れ
1. wwww.sobages.com
    * HEADER前にリダイレクトさせようと改竄？されていた
2. RigEK(landing page)
    * pathが異常に長い
    * page表示ではなくprogramを実行させようとする
    * サイズが異常に大きい
3. RigEK(SWF payload)
    * Flashの脆弱性が見つかった
4. ダウンロードされるマルウェア
    * SmokeLoader
    * ZeusPanda

#### レビテーションサイトの評価
* x-force: リスクレベル1
    - レビテーションサイトでは判別できない

#### 対策
* セキュリティパッチを最新にする
    - 脆弱性を突いてくるので、穴を埋める
* アンチウィルスソフトを導入する
* JSをOFFにする
    - 必要なページでのみONにする
* 怪しいサイト、メール記載のURLにアクセスしない

#### まとめ
* EKサービスが停止・非公開となったので脅威流行としては下火になっている


-----
### Proxyを体験してみよう
* Speeker: SSSE

#### Tunnel Bear
* インストール簡単


### PHPのフレームワークについての初心者セキュリティ ~Laravel編~
* Speeker: kimrui(木村るい)

#### Laravel
* すでにセキュリティ対策はある程度含まれている
    - XSS
    - SQLInjection
    - SCRF
    - セッション管理

#### まとめ
* 頼れるものは頼ろう
* 時間の効率化になる


-----
### ARPスプーフィング
* Speeker: tokoroten(日留川)

#### ARP
* AddressResolutionProtocol
* IPアドレスとMacアドレスを紐づけるプロトコル
* イントラネットの通信ではMACアドレスを元に通信を行なっている
* IPアドレスだけでは通信できない

#### ARPテーブルへの情報の保存
* 同じネットワークに機器が接続された時にブロードキャストアドレスにPCの情報とMACの情報が欲しい機器の情報を送信し対象の機器からの応答を待つ
* 他の機器は受け取った情報をARPテーブルへ保存し、時PCの情報を応答し、自分の位置を知らせる

#### コマンド例(win)
* 参照: `arp -a`

#### ARPスプーフィング
* ARPの仕組みを使った通信の盗聴方法
* 正規のクライアントからのARP要求に対して、攻撃者が「不正なARP応答」をブロードキャストすることでLAN の通信機器になりすます攻撃手法のこと
* 正規のクライアントは意図しない通信相手にトラフィックを転送する結果、情報を盗聴される可能性がある`

#### 仕組み
* 不正なARP要求により被害PCと攻撃PCのゲートウェイを同じにする
* 被害PCからのゲートウェイを通過する通信は攻撃PCを通ることによって盗聴される

#### 対策
* 無料Wi-Fiどうする？
* 動的保存されるARPテーブルを静的に保存する(実用的ではない…)
* VPN接続する
* SSL接続通信サイトを使用する
* セキュリティ意識をもつ
    - 漏洩しても使いまわされないように複数のパスワード管理をする


-----
###
* Speeker:

####
#####
* a
